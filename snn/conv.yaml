network:
  name: conv
  groups:
    - name: in
      attributes: [log_spikes: true, threshold: 1.0]
      neurons:
        - 0..15
    - name: hidden
      attributes: [log_spikes: true, threshold: 2.0]
      neurons:
        #- 0..8: [bias: 1.0]
        - 0..24: [bias: 1.0]
    - name: out
      neurons:
        - 0: [log_spikes: true]
  edges:
    - in -> hidden:
        type: conv2d
        input_height: 4
        input_width: 4
        input_channels: 1
        filters: 1
        filter_height: 2
        filter_width: 2
        stride_height: 1
        stride_width: 1
        weight: [0, 1, 2, 3]
        dendrite: {delay: [0, 0, 0, 0]}
    - hidden -> out:
        type: dense
        # We can specify parameters that only go to the synapse or dendrite h/w
        #  If neither is specified, the parameters are forwarded to both
        dendrite:
          delay: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        # Any parameters that is a list is applied to each connection in sequence
        weight: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]
    - in -> out:
        type: sparse
        source_target_pairs: [[0, 0], [4, 0]]
        weight: [1, 2]
        dendrite:
          delay: [0, 0]

mappings:
  - in.0..15: [core: 0.0]
  #- hidden.0..8: [core: 0.1]
  - hidden.0..24: [core: 0.1]
  - out.0: [core: 0.2]
